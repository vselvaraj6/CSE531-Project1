syntax = "proto3";

service Branch {
    // MsgDelivery Service 
    rpc MsgDelivery(Request) returns (Response);
}

// API Request
message Request {
    int32 id = 1;
    Type type = 2;
    repeated EventRequest events = 3;
}

message EventRequest {
    int32 id = 1;
    Interface interface = 2;
    int32 money = 3;
}

//API Response
message EventResponse {
    Interface interface = 1;
    int32 money = 2;
    Result result = 3;
}

message Response {
    int32 id = 1;
    repeated EventResponse recv = 2;
}

enum Type {
    customer=0;
    branch=1;
}

enum Result {
    success=0;
    failure=1;
}

enum Interface {
    withdraw=0;
    query=1;
    deposit=2;
    propogate_deposit=3;
    propogate_withdraw=4;
}