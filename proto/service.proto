syntax = "proto3";

service Branch {
    // MsgDelivery Service 
    rpc MsgDelivery(Request) returns (Response);
}

// API Request
message Request {
    int32 id = 1;
    Type type = 2;
    repeated EventRequest events = 3;
}

message EventRequest {
    int32 id = 1;
    Interface interface = 2;
    int32 money = 3;
}

//API Response
message EventResponse {
    Interface interface = 1;
    int32 money = 2;
    Result result = 3;
}

message Response {
    int32 id = 1;
    repeated EventResponse recv = 2;
}

enum Type {
    CUSTOMER=0;
    BRANCH=1;
}

enum Result {
    SUCCESS=0;
    FAILURE=1;
}

enum Interface {
    WITHDRAW=0;
    QUERY=1;
    DEPOSIT=2;
    PROPOGATE_DEPOSIT=3;
    PROPOGATE_WITHDRAW=4;
}